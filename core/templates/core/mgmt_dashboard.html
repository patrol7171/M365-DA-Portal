{% extends "core/base.html" %}
{% load static %}

{% block content %}
	<div class="page-header">
	  <h3 class="page-title">
		<span class="text-dark mr-2">
		  {{ user.firstName }}'s Dashboard
		</span> 
	  </h3>
	  <nav aria-label="breadcrumb">
		<ul class="breadcrumb">
		  <li class="breadcrumb-item active" aria-current="page">
			<span></span><small class="font-italic">Today is {{ currentDate }}</small>
		  </li>
		</ul>
	  </nav>
	</div>		
	<p class='lead font-weight-bold'>Top 3 Performance Metrics Per Group</p>
	
	<div class="row">
	  <div class="col-md-6 grid-margin2 stretch-card">
		<div class="card">
		  <div class="card-body2 text-center">	
			  <h4 class="finance-text text-uppercase text-center"><u>Finance</u></h4>
			  <div class="row">				
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ finance.0|safe }}</h5>
					<h6 class="mb-3 text-center">{{ finance.3|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart1"></canvas></div>
					<small class="card-text">{{ finance.6|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ finance.1|safe }}</h5>
					<h6 class="mb-3 text-center">{{ finance.4|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart2"></canvas></div>
					<small class="card-text">{{ finance.7|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ finance.2|safe }}</h5>
					<h6 class="mb-3 text-center">{{ finance.5|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart3"></canvas></div>
					<small class="card-text">{{ finance.8|safe }}%</small>
				</div>
			  </div>				
		  </div>
		</div>
	  </div>		
	  <div class="col-md-6 grid-margin2 stretch-card">
		<div class="card">
		  <div class="card-body2 text-center">
			  <h4 class="manufacturing-text text-uppercase text-center"><u>Manufacturing</u></h4>		  
			  <div class="row">
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ manufacturing.0|safe }}</h5>
					<h6 class="mb-3 text-center">{{ manufacturing.3|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart4"></canvas></div>
					<small class="card-text">{{ manufacturing.6|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ manufacturing.1|safe }}</h5>
					<h6 class="mb-3 text-center">{{ manufacturing.4|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart5"></canvas></div>
					<small class="card-text">{{ manufacturing.7|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ manufacturing.2|safe }}</h5>
					<h6 class="mb-3 text-center">{{ manufacturing.5|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart6"></canvas></div>
					<small class="card-text">{{ manufacturing.8|safe }}%</small>
				</div>
			  </div>				
		  </div>
		</div>
	  </div>	
	</div>
	
	<div class="row">
	  <div class="col-md-6 grid-margin2 stretch-card">
		<div class="card">
		  <div class="card-body2 text-center">
			  <h4 class="retail-text text-uppercase text-center"><u>Retail</u></h4>		  
			  <div class="row">
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ retail.0|safe }}</h5>
					<h6 class="mb-3 text-center">{{ retail.3|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart7"></canvas></div>
					<small class="card-text">{{ retail.6|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ retail.1|safe }}</h5>
					<h6 class="mb-3 text-center">{{ retail.4|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart8"></canvas></div>
					<small class="card-text">{{ retail.7|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ retail.2|safe }}</h5>
					<h6 class="mb-3 text-center">{{ retail.5|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart9"></canvas></div>
					<small class="card-text">{{ retail.8|safe }}%</small>
				</div>
			  </div>				
		  </div>
		</div>
	  </div>		
	  <div class="col-md-6 grid-margin2 stretch-card">
		<div class="card">
		  <div class="card-body2 text-center">
			  <h4 class="salesmarketing-text text-uppercase text-center"><u>Sales & Marketing</u></h4>		  
			  <div class="row">
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ salesmarketing.0|safe }}</h5>
					<h6 class="mb-3 text-center">{{ salesmarketing.3|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart10"></canvas></div>
					<small class="card-text">{{ salesmarketing.6|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ salesmarketing.1|safe }}</h5>
					<h6 class="mb-3 text-center">{{ salesmarketing.4|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart11"></canvas></div>
					<small class="card-text">{{ salesmarketing.7|safe }}%</small>
				</div>
				<div class="col-md-4">
					<h5 class="card-title2 text-center">{{ salesmarketing.2|safe }}</h5>
					<h6 class="mb-3 text-center">{{ salesmarketing.5|safe }}</h6>
					<div><canvas class="gauge-chart" id="gaugeChart12"></canvas></div>
					<small class="card-text">{{ salesmarketing.8|safe }}%</small>
				</div>
			  </div>				
		  </div>
		</div>
	  </div>
	</div>

{% endblock %}

{% block gauge_script %}
	var opts = {
	  lines: 12,
	  angle: 0,
	  lineWidth: 0.4,
	  pointer: {
		length: 0.7,
		strokeWidth: 0.045,
		color: '#000000'
	  },
	  limitMax: 'false', 
	  percentColors: [[0.0, "#a9d70b" ], [0.50, "#f9c802"], [1.0, "#ff0000"]], 
	  strokeColor: '#E0E0E0',
	  generateGradient: true,
	  staticLabels: {
	  font: "10px sans-serif", 
	  labels: [0,20,40,60,80,100], 
	  color: "#000000", 
	  fractionDigits: 0 
		},
	  staticZones: [
	   {strokeStyle: "#F03E3E", min: 0, max: 70}, // Red 
	   {strokeStyle: "#FFDD00", min: 70, max: 85}, // Yellow
	   {strokeStyle: "#30B32D", min: 85, max: 100}, // Green
		],
	  renderTicks: {
		divisions: 5,
		divWidth: 1.1,
		divLength: 0.7,
		divColor: "#333333",
		subDivisions: 3,
		subLength: 0.5,
		subWidth: 0.6,
		subColor: "#666666"
	  },
	};

	var target1 = document.getElementById('gaugeChart1');
	var gauge1 = new Gauge(target1).setOptions(opts);
	gauge1.maxValue = 100;
	gauge1.animationSpeed = 32;
	gauge1.set({{ finance.6|safe }});

	var target2 = document.getElementById('gaugeChart2');
	var gauge2 = new Gauge(target2).setOptions(opts);
	gauge2.maxValue = 100;
	gauge2.animationSpeed = 32;
	gauge2.set({{ finance.7|safe }});
	
	var target3 = document.getElementById('gaugeChart3');
	var gauge3 = new Gauge(target3).setOptions(opts);
	gauge3.maxValue = 100;
	gauge3.animationSpeed = 32;
	gauge3.set({{ finance.8|safe }});
	
	var target4 = document.getElementById('gaugeChart4');
	var gauge4 = new Gauge(target4).setOptions(opts);
	gauge4.maxValue = 100;
	gauge4.animationSpeed = 32;
	gauge4.set({{ manufacturing.6|safe }});

	var target5 = document.getElementById('gaugeChart5');
	var gauge5 = new Gauge(target5).setOptions(opts);
	gauge5.maxValue = 100;
	gauge5.animationSpeed = 32;
	gauge5.set({{ manufacturing.7|safe }});
	
	var target6 = document.getElementById('gaugeChart6');
	var gauge6 = new Gauge(target6).setOptions(opts);
	gauge6.maxValue = 100;
	gauge6.animationSpeed = 32;
	gauge6.set({{ manufacturing.8|safe }});
	
	var target7 = document.getElementById('gaugeChart7');
	var gauge7 = new Gauge(target7).setOptions(opts);
	gauge7.maxValue = 100;
	gauge7.animationSpeed = 32;
	gauge7.set({{ retail.6|safe }});

	var target8 = document.getElementById('gaugeChart8');
	var gauge8 = new Gauge(target8).setOptions(opts);
	gauge8.maxValue = 100;
	gauge8.animationSpeed = 32;
	gauge8.set({{ retail.7|safe }});
	
	var target9 = document.getElementById('gaugeChart9');
	var gauge9 = new Gauge(target9).setOptions(opts);
	gauge9.maxValue = 100;
	gauge9.animationSpeed = 32;
	gauge9.set({{ retail.8|safe }});

	var target10 = document.getElementById('gaugeChart10');
	var gauge10 = new Gauge(target10).setOptions(opts);
	gauge10.maxValue = 100;
	gauge10.animationSpeed = 32;
	gauge10.set({{ salesmarketing.6|safe }});

	var target11 = document.getElementById('gaugeChart11');
	var gauge11 = new Gauge(target11).setOptions(opts);
	gauge11.maxValue = 100;
	gauge11.animationSpeed = 32;
	gauge11.set({{ salesmarketing.7|safe }});
	
	var target12 = document.getElementById('gaugeChart12');
	var gauge12 = new Gauge(target12).setOptions(opts);
	gauge12.maxValue = 100;
	gauge12.animationSpeed = 32;
	gauge12.set({{ salesmarketing.8|safe }});	
{% endblock %}
